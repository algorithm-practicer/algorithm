# 최소 신장 트리 ( Minimum Spanning Tree, MST )

## 신장 트리

- 주어진 방향성이 없는 그래프의 부분 그래프들 중에서 모든 정점을 포함하는 트리를 의미.
- 부분 그래프는 주어진 그래프에서 일부 정점과 간선만을 택해서 구성한 새로운 그래프를 의미.

## 최소 신장 트리

- 신장 트리 중에서 간선의 가중치 합이 최소인 트리를 의미.
- 최소 신장 트리를 찾는 알고리즘으로는 크루스칼(Kruskal) 알고리즘과 프림(Prim) 알고리즘이 있다.

## 크루스칼 알고리즘

1. 간선을 크기의 오름차순으로 정렬하고 제일 낮은 비용의 간선을 선택
2. 현재 선택한 간선이 정점 u,v를 연결하는 간선이라고 할 때, 만약 u와 v가 같은 그룹이라면 아무 것도 하지 않고 넘어감, u와 v가 다른 그룹이라면 같은 그룹으로 만들고 현재 선택한 간선을 최소 신장 트리에 추가
3. 최소 신장 트리에 V-1의 간선을 추가시켰다면 과정을 종료, 그렇지 않다면 그 다음으로 비용이 작은 간선을 선택한 후 2번 과정을 반복

> [!NOTE]
>
> [Union Find](./union-find.md) 알고리즘을 알아야 구현 가능

> [!NOTE]
>
> 시간복잡도: O(ElogE)

## 이해를 위한 프림 알고리즘 구현

1. 임의의 정점을 선택해 최소 신장 트리에 추가
2. 최소 신장 트리에 포함된 정점과 최소 신장 트리에 포함되지 않은 정점을 연결하는 간선 중 비용이 가장 작은 것을 최소 신장 트리에 추가
3. 최소 신장 트리에 V-1개의 간선이 추가될 때까지 2번 과정을 반복

> [!NOTE]
>
> 해당 구현 방식은 매번 비용이 최소인 간선을 택해야하고, 이를 위해 매번 모든 간선을 확인해야 하므로 시간복잡도가 O(EV)이다.

## 프림 알고리즘 구현

1. 임의의 정점을 선택해 최소 신장 트리에 추가, 해당 정점과 연결된 모든 간선을 우선순위 큐에 추가
2. 우선순위 큐에서 비용이 가장 작은 간선을 선택
3. 만약 해당 간선이 최소 신장 트리에 포함된 두 정점을 연결한다면 아무것도 하지 않고 넘어감, 해당 간선이 최소 신장 트리에 포함된 정점 u와 포함되지 않은 정점 v를 연결한다면 해당 간선과 정점 v를 최소 신장 트리에 추가 후 정점 v과 최소 신장 트리에 포함되지 않는 정점을 연결하는 모든 간선을 우선순위 큐에 추가
4. 최소 신장 트리에 V-1개의 간선이 추가될 때까지 2,3번 과정을 반복

> [!NOTE]
>
> priority queue를 사용해 구현이 가능하지만, 크루스칼 알고리즘에 비해 구현이 어려운 편

> [!NOTE]
>
> 시간복잡도: O(ElogV)
